<!-- nanbar superior izquierda -->
<nav class="navbar navbar-expand-lg" style="background-color: #1777bb9f; ">
  <div class="container-fluid">
    <a class="navbar-brand" href="#">Gestor Multimedia</a>
    <div class="collapse navbar-collapse">
      <ul class="navbar-nav me-auto ">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="#"><img src="../../../assets/img/logo.png" width="15px"
              class="img-fluid"> Home</a>
        </li>
      </ul>

      <!-- Pop up -->
      <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Insertar Archivo</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <div>
                <label for="formFileLg" class="form-label">File input</label>
                <input class="form-control form-control-lg" id="dataD" type="file" [(ngModel)]="archivo.data"
                  name="data" (change)="guardarFile()">
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              <button type="button" class="btn btn-primary" (click)="agregarArchivo()">Save changes</button>
            </div>
          </div>
        </div>
      </div>
      <!-- navbar superior derecha  -->
      <form class="d-flex" role="search">
        <ul class="navbar-nav">
          <li class="nav-item">
            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
              <img src="../../../assets/img/logo.png" width="100px" class="img-fluid">
            </button>
          </li>
        </ul>
        <input class="form-control me-2" type="search" placeholder="search here..." aria-label="Search">
      </form>
      <a href="./index.html">Cerrar Sesi√≥n</a>
    </div>
  </div>
</nav>

<!-- barra lateral -->

<div class="row">
  <div class="col-auto col-md-3 col-xl-2 px-sm-2 px-0">
    <div class="p-3 color-nabvar ">
      <a class="d-flex align-items-center pb-3 mb-3 link-dark text-decoration-none border-bottom">
        <svg class="bi pe-none me-2" width="30" height="24">
          <use xlink:href="#bootstrap"></use>
        </svg>
        <div class="row">
          <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#crearCarpeta"
            style="background-color: #1777bb9f;">
            CREAR CARPETA
          </button>
        </div>
      </a>
      <div class="row">
        <div class="col-auto col-md-3 col-xl-2 px-sm-2 px-0">

          <button class="btn d-inline-flex align-items-center rounded border-0" (click)="mostrarFicherosCarpeta(0)">
            root
          </button>


        </div>
        <div class="row" *ngFor="let carpeta of carpetas" >
          <div class="col-6">
            <button class="btn d-inline-flex align-items-center rounded border-0" (click)="mostrarFicherosCarpeta(carpeta.id)">
              {{carpeta.nombre}}
            </button>
          </div>
          <div class="col-1">
            <button class="bg-danger">X</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="col py-3">
    <div class="">

      <div *ngFor="let carpeta of carpetas">
        <div *ngIf="carpeta.id == idCarpeta">
          <h1>{{carpeta.nombre}}</h1>
        </div>
      </div>
      <h1 *ngIf="idCarpeta == 0">root</h1>

      <table class="table table-striped">
        <thead>
          <tr>
            <th scope="col">ID</th>
            <th scope="col">Nombre del archivo</th>
            <th scope="col">Tipo</th>
          </tr>
        </thead>
        <tbody>
              <tr *ngFor="let archivo of archivos" >
                <td scope="col" *ngIf="archivo.id_categoria == idCarpeta">{{archivo.id}}</td>
                <td scope="col" *ngIf="archivo.id_categoria == idCarpeta">{{archivo.nombre}}</td>
                <td scope="col" *ngIf="archivo.id_categoria == idCarpeta">{{archivo.tipo}}</td>
              </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<!-- Modal Crear Categorias-->
<div class="modal fade" id="crearCarpeta" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Crear Carpeta</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">

        <form action="">

          <label for="">Nombre:</label>
          <input class="form-control form-control-lg" id="formFileLg" type="text" [(ngModel)]="carpeta.nombre"
            name="nombre">

        </form>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" (click)="agregarCarpeta()">Crear</button>
      </div>
    </div>
  </div>
</div>
